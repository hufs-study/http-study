# 2장 URL과 리소스

URL은 인터넷의 리소스를 가리키는 표준이름이다.

URL은 전자정보 일부를 가리키고 그것이 어디에 있고 어떻게 접근할 수 있는지 알려준다.

## 2.1 인터넷 리소스 탐색하기

대부분의 URL은 동일하게 ‘스킴://서버위치/경로'구조로 이루어져 있다.

URL은 브라우저가 더 영리하게 리소스에 접근하고 그것을 다루게 함으로써 온라인 세상을 단순화시킨다.

<div align="center">
    <img src="./img/1.png" alt="" style="width: 550px" />
</div>


## 2.2 URL 문법

URL의 문법은 스킴에 따라서 달라진다. 하지만, 대부분의 URL은 일반 URL 문법을 따르며, 서로 다른 URL 스킴도 형태와 문법 면에서 매우 유사하다.

대부분의 URL 스킴의 문법은 일반적으로 9개의 부분으로 나뉜다.

모든 컴포넌트를 가지는 URL은 거의 없고, URL의 가장 중요한 세 가지 컴포넌트는 스킴, 호스트, 경로다.

- **<스킴>://<사용자 이름>:<비밀번호>@<호스트>:<포트>/<경로>;<파라미터>?<질의>#<프래그먼트>**

### 2.2.1 스킴: 사용할 프로토콜

스킴은 주어진 리소스에 어떻게 접근하는지 알려주는 중요한 정보다.

스킴 명은 대소문자를 가리지 않는다.

### 2.2.2 호스토와 포트

- 호스트 컴포넌트
    - 접근하려고 하는 리소스를 가지고 있는 인터넷상의 호스트 장비를 가리킨다.
    - 호스트 명이나 IP 주소로 제공한다.
- 포트 컴포넌트
    - 서버가 열어놓은 네트워크 포트를 가리킨다.
    - 내부적으로 TCP 프로토콜을 사용하는 HTTP는 기본 포트로 80을 사용한다.

### 2.2.3 사용자 이름과 비밀번호

많은 서버가 자신이 가지고 있는 데이터에 접근을 허용하기 전에 사용자 이름과 비밀번호를 요구한다.

```jsx
1 - ftp://ftp.prep/ai.mit.edu/pub/gnu
2 - ftp://anonymous@ftp.prep.ai.mit.edu/pub/gnu
3 - ftp://anonymous:my_passwd@ftp.prep.ai.mit.edu/pub/gnu
4 - http://joe:joespasswd@www.joes-hardware.com/sales_info.txt
```

1의 경우, FTP와 같이 사용자 이름과 비밀번호를 요구하는 URL스킴을 사용한다면, 그 값들이 삽입되어 있지 않을 경우 기본 사용자 이름과 비밀번호 값을 넣어놓는다.

3, 4의 경우, 사용자 이름과 비밀번호를 ‘:’ 문자로 분리하여 모두 기술하였다.

### 2.2.4 경로

경로 컴포넌트는 리소스가 서버의 어디에 있는지 알려준다.

유닉스 파일 시스템의 파일 경로와 유사하다. 

각 경로 조각은 자체만의 파라미터 컴포넌트를 가질 수 있다.

### 2.2.5 파라미터

파라미터 컴포넌트는 애플리케이션이 서버에 정확한 요청을 하기 위해서 필요한 입력 파라미터를 받는데 사용한다. 이 컴포넌트는 이름/값 쌍의 리스트로 URL 나머지 부분들로부터 ‘;’문자로 구분하여 URL에 기술한다.

```jsx
http://www.joes-hardware.com/hammers;sales=false/index.html;graphics=true
```

### 2.2.6 질의 문자열

데이터베이스같은 서비스들은 요청받을 리소스 형식의 범위를 좁히기 위해서 질문이나 질의를 받을 수 있다.

많은 게이트웨이가 ‘&’로 나뉜 ‘이름=값'쌍 형식의 질의 문자열을 원한다.

예를 들어, 이 질의는 제품번호가 12731이고, 큰 치수에, 파란색인 물품의 재고가 있는지 검사한다.

```jsx
http://www.joes-hardware.com/inventory-check.cgi?item=12731&color=blue&size=large
```

### 2.2.7 프래그먼트

HTML 같은 리소스 형식들은 본래의 수준보다 더 작게 나뉠 수 있다.

리소스의 특정 부분을 가리킬 수 있도록, URL은 리소스 내의 조각을 가리킬 수 있는 프래그먼트 컴포넌트를 제공한다.

일반적으로 HTTP 서버는 객체 일부가 아닌 전체만 다루기 때문에, 클라이언트는 서버에 프래그먼트를 전달하지 않는다. 브라우저가 서버로부터 전체 리소스를 내려받은 후, 프래그먼트를 사용하여 보고자하는 리소스의 일부를 보여준다.

<div align="center">
    <img src="./img/2.png" alt="" style="width: 550px" />
</div>


## 2.3 단축 URL

URL에는 절대 URL과 상대 URL이 있다.

- 절대 URL
    - 리소스에 접근하는데 필요한 모든 정보
- 상대 URL
    - base를 기반으로 한 상대적인 경로

### 2.3.1 상대 URL

상대 URL은 URL을 짧게 표기하는 방식이다.

상대 URL로 리소스에 접근하는데 필요한 모든 정보를 읽기 위해서는, 기저(base)라고 하는 다른 URL을 사용해야한다.

<div align="center">
    <img src="./img/3.png" alt="" style="width: 550px" />
</div>


### 2.3.2 URL 확장

- 호스트 명 확장
    - yahoo 입력 → 브라우저 ‘www.yahoo.com’ 생성
- 히스토리 확장
    - 과거에 사용자가 방문했던 URL의 기록을 저장해 놓는다.
    

## 2.4 안전하지 않은 문자

URL 설계자들은 이스케이프라는 기능을 추가해 안전하지 않은 문자를 안전한 문자로 인코딩할 수 있게 했다.

### 2.4.1 인코딩 체계

인코딩은 안전하지 않은 문자를 퍼센티지 기호(%)로 시작해, ASCII코드로 표현되는 두개의 16진수 숫자로 이루어진 ‘이스케이프'문자로 바꾼다.

<div align="center">
    <img src="./img/4.png" alt="" style="width: 550px" />
</div>

### 2.4.2 문자 제한

아래의 표는 URL에서 예약된 문자들을 본래의 목적이 아닌 다른 용도로 사용하려면, 그 전에 만드시 인코딩해야하는 문자들이다.

<div align="center">
    <img src="./img/5.png" alt="" style="width: 550px" />
</div>


[이미지 참조](https://www.google.com/url?sa=i&url=https%3A%2F%2Fvelog.io%2F%40hye_b%2FHTTP-%25EC%2599%2584%25EB%25B2%25BD-%25EA%25B0%2580%25EC%259D%25B4%25EB%2593%259C-1.-HTTP-%25EC%259B%25B9%25EC%259D%2598-%25EA%25B8%25B0%25EC%25B4%2588-2&psig=AOvVaw06Y2JZ8sE3psJBFpV6OUGm&ust=1652948134672000&source=images&cd=vfe&ved=0CAwQjRxqFwoTCKimn-jN6PcCFQAAAAAdAAAAABAV)
